function O(o){window.enmity.plugins.registerPlugin(o)}const h={byProps:(...o)=>window.enmity.modules.filters.byProps(...o),byName:o=>window.enmity.modules.filters.byName(o),byTypeName:o=>window.enmity.modules.filters.byTypeName(o),byTypeString:(...o)=>window.enmity.modules.filters.byTypeString(...o),byDefaultString:(...o)=>window.enmity.modules.filters.byDefaultString(...o),byString:(...o)=>window.enmity.modules.filters.byString(...o)};function E(o,n){return window.enmity.modules.getModule(o,n)}function B(...o){return window.enmity.modules.bulk(...o)}function _(o){return window.enmity.patcher.create(o)}const e=window.enmity.react,I=e.React;e.memo,e.useCallback,e.useContext,e.useEffect,e.useImperativeHandle,e.useMemo,e.useReducer,e.useRef,e.useState,e.Alert;const P=e.Button;e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;var C="Create webhooks from the webhook management screens",k="1.0.0";function x(o={},n=i=>i,{ignore:l=[],walkable:y=["props","children"],maxProperties:d=100}={}){let i=[o];const c=function(...t){try{return Reflect.apply(n,this,t)}catch{return!1}};for(;i.length&&d;){const t=i.shift();if(c(t))return t;if(Array.isArray(t))i.push(...t);else if(typeof t=="object"&&t!==null)if(y.length)for(const r in t){const a=t[r];~y.indexOf(r)&&!~l.indexOf(r)&&i.push(a)}else for(const r in t){const a=t[r];t&&~l.indexOf(r)||i.push(a)}d--}}var g,T,F;const b=_("create-webhooks"),[{create:A},{getChannels:N},{can:M},{Permissions:{MANAGE_WEBHOOKS:H}}]=B(h.byProps("update","create","fetchForChannel"),h.byProps("getChannels"),h.byProps("can","_dispatcher"),h.byProps("Permissions")),{NavigationContainer:R}=(g=window.enmity.modules.common.navigationNative)!=null?g:window.enmity.modules.common.NavigationNative,p=(F=(T=E(o=>{var n,l;return(l=(n=o==null?void 0:o.default)==null?void 0:n.Messages)==null?void 0:l.SETTINGS_WEBHOOKS_EMPTY_BODY_IOS}))==null?void 0:T.default)==null?void 0:F.Messages,K=p.SETTINGS_WEBHOOKS_EMPTY_BODY_IOS,W={name:"CreateWebhooks",version:k,description:C,authors:[{name:"FifiTheBulldog",id:"690213339862794285"}],color:"#f9a418",onStart(){let o,n;const l=b.after(R,"render",(y,[{theme:d}],i)=>{var c,t,r,a;const S=(t=(c=x(i,m=>{var u;return(u=m==null?void 0:m.screens)==null?void 0:u.WEBHOOKS}))==null?void 0:c.screens)==null?void 0:t.WEBHOOKS;if(S){const m=(a=(r=d==null?void 0:d.colors)==null?void 0:r.text)!=null?a:"#fff";S.headerRight=()=>I.createElement(P,{color:m,title:"\uFF0B",onPress:()=>{var u,w;let s=n||((w=(u=N(o).SELECTABLE.find(f=>M(H,f.channel)))==null?void 0:u.channel)==null?void 0:w.id);s?A(o,s):window.enmity.toast.showToast({content:"Error creating webhook"})}}),b.after(S,"render",(u,w,s)=>{var f,v;o=(f=s==null?void 0:s.props)==null?void 0:f.guildId,n=(v=s==null?void 0:s.props)==null?void 0:v.channelId}),l.unpatchAll()}});p.SETTINGS_WEBHOOKS_EMPTY_BODY_IOS=" "},onStop(){b.unpatchAll(),p.SETTINGS_WEBHOOKS_EMPTY_BODY_IOS=K}};O(W);
