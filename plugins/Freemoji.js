function m(e){window.enmity.plugins.registerPlugin(e)}const r={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:e=>window.enmity.modules.filters.byName(e),byTypeName:e=>window.enmity.modules.filters.byTypeName(e),byTypeString:(...e)=>window.enmity.modules.filters.byTypeString(...e),byDefaultString:(...e)=>window.enmity.modules.filters.byDefaultString(...e),byString:(...e)=>window.enmity.modules.filters.byString(...e)};function l(...e){return window.enmity.modules.bulk(...e)}function a(e){return window.enmity.patcher.create(e)}const o=a("freemoji"),[y,{getEmojiURL:u}]=l(r.byProps("parse","unparse","parsePreprocessor"),r.byProps("getEmojiURL")),d={name:"Freemoji",onStart(){o.after(y,"parse",(e,p,t)=>{t.validNonShortcutEmojis.forEach((i,s)=>{{i.size=24;const n=u(i).replace("webp","png");t.content=t.content.replace(`<${i.animated?"a":""}:${i.name}:${i.id}>`,n),delete t.validNonShortcutEmojis[s]}t.validNonShortcutEmojis=t.validNonShortcutEmojis.filter(n=>n)})})},onStop(){o.unpatchAll()}};m(d);
