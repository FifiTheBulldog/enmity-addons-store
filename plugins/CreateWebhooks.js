function O(t){window.enmity.plugins.registerPlugin(t)}const h={byProps:(...t)=>window.enmity.modules.filters.byProps(...t),byName:t=>window.enmity.modules.filters.byName(t),byTypeName:t=>window.enmity.modules.filters.byTypeName(t),byTypeString:(...t)=>window.enmity.modules.filters.byTypeString(...t),byDefaultString:(...t)=>window.enmity.modules.filters.byDefaultString(...t),byString:(...t)=>window.enmity.modules.filters.byString(...t)};function F(t,n){return window.enmity.modules.getModule(t,n)}function E(...t){return window.enmity.modules.bulk(...t)}function B(t){return window.enmity.patcher.create(t)}const e=window.enmity.react,_=e.React;e.memo,e.useCallback,e.useContext,e.useEffect,e.useImperativeHandle,e.useMemo,e.useReducer,e.useRef,e.useState,e.Alert;const I=e.Button;e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl,e.ScrollView,e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio,e.FormRow,e.FormSection,e.FormSelect,e.FormSubLabel,e.FormSwitch,e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;var P="Create webhooks from the webhook management screens",C="0.0.1";function k(t={},n=r=>r,{ignore:l=[],walkable:y=["props","children"],maxProperties:c=100}={}){let r=[t];const d=function(...o){try{return Reflect.apply(n,this,o)}catch{return!1}};for(;r.length&&c;){const o=r.shift();if(d(o))return o;if(Array.isArray(o))r.push(...o);else if(typeof o=="object"&&o!==null)if(y.length)for(const i in o){const a=o[i];~y.indexOf(i)&&!~l.indexOf(i)&&r.push(a)}else for(const i in o){const a=o[i];o&&~l.indexOf(i)||r.push(a)}c--}}var g,T;const b=B("create-webhooks"),[{create:x},{getChannels:A},{can:M},{Permissions:{MANAGE_WEBHOOKS:N}}]=E(h.byProps("update","create","fetchForChannel"),h.byProps("getChannels"),h.byProps("can","_dispatcher"),h.byProps("Permissions")),{NavigationContainer:H}=window.enmity.modules.common.navigationNative,p=(T=(g=F(t=>{var n,l;return(l=(n=t==null?void 0:t.default)==null?void 0:n.Messages)==null?void 0:l.SETTINGS_WEBHOOKS_EMPTY_BODY_IOS}))==null?void 0:g.default)==null?void 0:T.Messages,R=p.SETTINGS_WEBHOOKS_EMPTY_BODY_IOS,K={name:"CreateWebhooks",version:C,description:P,onStart(){let t,n;const l=b.after(H,"render",(y,[{theme:c}],r)=>{var d,o,i,a;const S=(o=(d=k(r,m=>{var u;return(u=m==null?void 0:m.screens)==null?void 0:u.WEBHOOKS}))==null?void 0:d.screens)==null?void 0:o.WEBHOOKS;if(S){const m=(a=(i=c==null?void 0:c.colors)==null?void 0:i.text)!=null?a:"#fff";S.headerRight=()=>_.createElement(I,{color:m,title:"\uFF0B",onPress:()=>{var u,w;let s=n||((w=(u=A(t).SELECTABLE.find(f=>M(N,f.channel)))==null?void 0:u.channel)==null?void 0:w.id);s?x(t,s):window.enmity.toast.showToast({content:"Error creating webhook"})}}),b.after(S,"render",(u,w,s)=>{var f,v;t=(f=s==null?void 0:s.props)==null?void 0:f.guildId,n=(v=s==null?void 0:s.props)==null?void 0:v.channelId}),l.unpatchAll()}});p.SETTINGS_WEBHOOKS_EMPTY_BODY_IOS=" "},onStop(){b.unpatchAll(),p.SETTINGS_WEBHOOKS_EMPTY_BODY_IOS=R}};O(K);
